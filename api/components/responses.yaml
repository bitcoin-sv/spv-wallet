openapi: 3.0.0
info:
  title: ignored
  version: ignored

components:
  responses:
    NotAuthorized:
      description: Security requirements failed
      content:
        application/json:
          schema:
            $ref: "./errors.yaml#/components/schemas/ErrUnauthorized"

    InternalServerError:
      description: Internal server error
      content:
        application/json:
          schema:
            $ref: "./errors.yaml#/components/schemas/ErrInternal"

    UserNotAuthorized:
      description: Security requirements failed
      content:
        application/json:
          schema:
            oneOf:
              - $ref: "./errors.yaml#/components/schemas/ErrUnauthorized"
              - $ref: "./errors.yaml#/components/schemas/ErrXPubAuthRequired"

    UserBadRequest:
      description: Bad request is an error that occurs when the request is malformed.
      content:
        application/json:
          schema:
            $ref: "./errors.yaml#/components/schemas/ErrInvalidDataID"

    SearchBadRequest:
      description: Error when search request is malformed and params can not be parsed
      content:
        application/json:
          schema:
            $ref: "./errors.yaml#/components/schemas/ErrInvalidDataID"

    GetDataSuccess:
      description: Data found
      content:
        application/json:
          schema:
            $ref: "./models.yaml#/components/schemas/Data"

    GetDataNotFound:
      description: Not found is an error that occurs when the requested resource is not found.
      content:
        application/json:
          schema:
            oneOf:
              - $ref: "./errors.yaml#/components/schemas/ErrDataNotFound"

    GetCurrentUserSuccess:
      description: Balance of current authenticated user
      content:
        application/json:
          schema:
            $ref: "./models.yaml#/components/schemas/UserInfo"

    SearchOperationsSuccess:
      description: Operations found
      content:
        application/json:
          schema:
            $ref: "./models.yaml#/components/schemas/OperationsSearchResult"

    RecordTransactionSuccess:
      description: Transaction recorded
      content:
        application/json:
          schema:
            $ref: "./models.yaml#/components/schemas/RecordedOutline"

    RecordTransactionBadRequest:
      description: Bad request is an error that occurs when the request is malformed.
      content:
        application/json:
          schema:
            oneOf:
              - $ref: "./errors.yaml#/components/schemas/ErrInvalidDataID"
              - $ref: "./errors.yaml#/components/schemas/ErrAnnotationIndexOutOfRange"
              - $ref: "./errors.yaml#/components/schemas/ErrUTXOSpent"
              - $ref: "./errors.yaml#/components/schemas/ErrAnnotationIndexConversion"
              - $ref: "./errors.yaml#/components/schemas/ErrNoOperations"

    RecordTransactionInternalServerError:
      description: Internal server error
      content:
        application/json:
          schema:
            oneOf:
              - $ref: "./errors.yaml#/components/schemas/ErrInternal"
              - $ref: "./errors.yaml#/components/schemas/ErrGettingOutputs"
              - $ref: "./errors.yaml#/components/schemas/ErrTxBroadcast"
